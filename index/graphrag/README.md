# GRAPH RAG

## Index

```bash
python -m graphrag.index --root .
```

## Query

### local

```bash
python -m graphrag.query --root . --method local "Q"
```

## Example

### Setting

- model: `qwen2:72b-instruct` + `m3e`

### RawText

```text
我是一段测试文本，只为了测试一个小段内容。
我的名字叫粽子，来自中国，我今年18岁。
我喜欢苹果。
我有一个朋友叫做张三，他来自印度，他比我大3岁。
张三的老婆叫李四，她和我同岁。
张三在学校里是我的学长，我在浙江大学就读。
张三喜欢吃苹果派，他老婆喜欢吃香蕉派。
粽子在学校里的射箭比赛获得了第三名，张三获得了第一名。
在夏季举行的围棋比赛中，粽子获得了第一名。
```

### Graph Visualization

!(graph_example)[./images/graph_example.png]

### Q&A 1

```bash
python -m graphrag.query --root . --method local "张三几岁？"

SUCCESS: Local Search Response: 张三今年21岁，比粽子大3岁 [数据: Sources (0)]。他与粽子一同在浙江大学就读，并且是粽子的学长 [数据: Relationships (6)]。

## 张三的个人生活

张三出生于印度 [数据: Relationships (9); Entities (4)]，这为他在社区中带来了独特的文化背景和经历，丰富了浙江大学的多元化环境。他的个人爱好包括射箭，在学校举办的比赛中获得了第一名的成绩 [数据: Relationships (7)]，显示出他多方面的才华。

## 张三的婚姻状况

张三与李四结婚，两人年龄相同，并且在社区内共同参与各种活动 [数据: Relationships (8); Entities (12)]。李四喜欢吃香蕉派 [数据: Relationships (12)], 而这可能成为他们之间以及与其他社区成员共享的话题。

## 张三的饮食偏好

张三对苹果派的喜爱表明了个人偏好，并且在社区内的社交活动中可能会成为一个共同的兴趣点 [数据: Relationships (10)]。这种共同兴趣有助于加深他与粽子以及其他朋友之间的联系，促进更加融洽的关系。

综上所述，张三是一位21岁的大学生，在浙江大学就读并积极参与各种活动，拥有广泛的才华和兴趣，这使他在社区中成为一个活跃且受欢迎的成员。
```

### Q&A 2

```bash
python -m graphrag.query --root . --method local "浙江大学射箭比赛冠军是谁？"

SUCCESS: Local Search Response: ### 浙江大学射箭比赛冠军

在浙江大学举办的射箭比赛中，有两位选手脱颖而出，分别是张三和粽子。他们不仅展现了高超的射箭技巧，还为社区增添了荣耀。

#### 张三是射箭比赛冠军 [Data: Relationships (7); Sources (0)]

张三是一名21岁的学生，来自印度。他在学校举办的射箭比赛中表现出色，荣获第一名的成绩，体现了他卓越的体育才能。

#### 粽子在射箭比赛中获得第三名 [Data: Relationships (1); Sources (0)]

粽子是浙江大学的学生，出生于中国，今年18岁。尽管他在射箭比赛中的成绩略逊于张三，但仍取得了第三名的好成绩，展现了不俗的实力和潜力。

这些成就不仅反映了他们个人的才华与努力，也体现了浙江大学社区在体育领域的卓越水平和支持氛围。

### 浙江大学射箭比赛冠军

在浙江大学举办的射箭比赛中，有两位选手脱颖而出，分别是张三和粽子。他们不仅展现了高超的射箭技巧，还为社区增添了荣耀。

#### 张三是射箭比赛冠军 [Data: Relationships (7); Sources (0)]

张三是一名21岁的学生，来自印度。他在学校举办的射箭比赛中表现出色，荣获第一名的成绩，体现了他卓越的体育才能。

#### 粽子在射箭比赛中获得第三名 [Data: Relationships (1); Sources (0)]

粽子是浙江大学的学生，出生于中国，今年18岁。尽管他在射箭比赛中的成绩略逊于张三，但仍取得了第三名的好成绩，展现了不俗的实力和潜力。

这些成就不仅反映了他们个人的才华与努力，也体现了浙江大学社区在体育领域的卓越水平和支持氛围。
```
